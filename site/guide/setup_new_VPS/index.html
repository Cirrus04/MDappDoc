
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Matti Sirén">
      
      
        <link rel="canonical" href="https://Cirrus04.github.io/MDappDoc/guide/setup_new_VPS/">
      
      
        <link rel="prev" href="../deployment/">
      
      
        <link rel="next" href="../../usage/web_interface/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>New VPS - MarketData Analyzer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation-av-vps-server-hos-strato" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MarketData Analyzer Documentation" class="md-header__button md-logo" aria-label="MarketData Analyzer Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MarketData Analyzer Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              New VPS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../installation/" class="md-tabs__link">
          
  
  
  Setup Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../usage/web_interface/" class="md-tabs__link">
          
  
  
  User Manual

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../technical_analysis/indicators/" class="md-tabs__link">
          
  
  
  Technical Analysis

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../glossary/overview/" class="md-tabs__link">
          
  
  
  Glossary

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development/database_schema/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MarketData Analyzer Documentation" class="md-nav__button md-logo" aria-label="MarketData Analyzer Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MarketData Analyzer Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Setup Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Setup Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    New VPS
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    New VPS
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exempel" class="md-nav__link">
    <span class="md-ellipsis">
      Exempel:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-forberedelser-lokal-dator" class="md-nav__link">
    <span class="md-ellipsis">
      1. Förberedelser (Lokal Dator)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Förberedelser (Lokal Dator)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skapa-ssh-nyckel" class="md-nav__link">
    <span class="md-ellipsis">
      Skapa SSH-nyckel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfigurera-lokal-ssh-konfigurering" class="md-nav__link">
    <span class="md-ellipsis">
      Konfigurera lokal SSH-konfigurering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ominstallation-via-strato-panelen" class="md-nav__link">
    <span class="md-ellipsis">
      2. Ominstallation via Strato-panelen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avtalsinformation" class="md-nav__link">
    <span class="md-ellipsis">
      Avtalsinformation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serveruppgifter" class="md-nav__link">
    <span class="md-ellipsis">
      Serveruppgifter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-grundlaggande-serverkonfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      3. Grundläggande Serverkonfiguration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Grundläggande Serverkonfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uppdatera-systemet" class="md-nav__link">
    <span class="md-ellipsis">
      Uppdatera systemet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installera-nodvandiga-verktyg" class="md-nav__link">
    <span class="md-ellipsis">
      Installera nödvändiga verktyg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-webbserver-apache" class="md-nav__link">
    <span class="md-ellipsis">
      4. Webbserver (Apache)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-databas-mysql-8" class="md-nav__link">
    <span class="md-ellipsis">
      5. Databas (MySQL 8)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Databas (MySQL 8)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forberedelse-och-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Förberedelse och Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aterstallning-av-root-losenord-safety-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Återställning av Root-lösenord ("Safety Mode")
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skapa-databas-och-anvandare" class="md-nav__link">
    <span class="md-ellipsis">
      Skapa Databas och Användare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sakra-installationen" class="md-nav__link">
    <span class="md-ellipsis">
      Säkra installationen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-php-installation" class="md-nav__link">
    <span class="md-ellipsis">
      6. PHP-installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-du-skall-se-en-gron-text-som-sager-active-running" class="md-nav__link">
    <span class="md-ellipsis">
      - Du skall se en grön text som säger "active (running)"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-sakerhet-brandvagg-fail2ban" class="md-nav__link">
    <span class="md-ellipsis">
      7. Säkerhet (Brandvägg &amp; Fail2Ban)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Säkerhet (Brandvägg &amp; Fail2Ban)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#konfigurera-brandvaggen-firewalld" class="md-nav__link">
    <span class="md-ellipsis">
      Konfigurera Brandväggen (Firewalld)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installera-fail2ban" class="md-nav__link">
    <span class="md-ellipsis">
      Installera Fail2Ban
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forklaring-av-installningarna" class="md-nav__link">
    <span class="md-ellipsis">
      Förklaring av inställningarna:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-starta-tjansten" class="md-nav__link">
    <span class="md-ellipsis">
      4. Starta tjänsten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-verifiera-att-tjansten-fugerar" class="md-nav__link">
    <span class="md-ellipsis">
      5. Verifiera att tjänsten fugerar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#om-jag-rakat-banna-mig-sjalv" class="md-nav__link">
    <span class="md-ellipsis">
      Om jag råkat 'banna' mig själv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-ssh-rattigheter-den-svara-biten" class="md-nav__link">
    <span class="md-ellipsis">
      8. SSH &amp; Rättigheter (Den svåra biten)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. SSH &amp; Rättigheter (Den svåra biten)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixa-konfigurationen-om-inloggning-strular" class="md-nav__link">
    <span class="md-ellipsis">
      Fixa konfigurationen om inloggning strular
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-lagra-ditt-ssh-losenord-lokalt" class="md-nav__link">
    <span class="md-ellipsis">
      10. Lagra ditt SSH-lösenord (lokalt)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Lagra ditt SSH-lösenord (lokalt)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starta-tjansten-gors-en-gang" class="md-nav__link">
    <span class="md-ellipsis">
      Starta tjänsten (Görs en gång)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lagg-till-nyckeln" class="md-nav__link">
    <span class="md-ellipsis">
      Lägg till nyckeln
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resultat" class="md-nav__link">
    <span class="md-ellipsis">
      Resultat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Manual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/web_interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/shell_scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Load Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical Analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Technical Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical_analysis/indicators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Indicators Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical_analysis/bollinger_bands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bollinger Bands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical_analysis/rsi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RSI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical_analysis/adx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ADX
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical_analysis/macd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MACD
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Glossary
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/eodhd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EODHD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/strato/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STRATO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/vps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/mysql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/cron/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cron & Crontab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/bash_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bash Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/nano_vi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    nano & vi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/stop_loss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stop-Loss
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    not yet translated
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/database_schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/database_create/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL for Database Creation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/data_sources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Sources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/maintenance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintenance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    test
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exempel" class="md-nav__link">
    <span class="md-ellipsis">
      Exempel:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-forberedelser-lokal-dator" class="md-nav__link">
    <span class="md-ellipsis">
      1. Förberedelser (Lokal Dator)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Förberedelser (Lokal Dator)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skapa-ssh-nyckel" class="md-nav__link">
    <span class="md-ellipsis">
      Skapa SSH-nyckel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konfigurera-lokal-ssh-konfigurering" class="md-nav__link">
    <span class="md-ellipsis">
      Konfigurera lokal SSH-konfigurering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ominstallation-via-strato-panelen" class="md-nav__link">
    <span class="md-ellipsis">
      2. Ominstallation via Strato-panelen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avtalsinformation" class="md-nav__link">
    <span class="md-ellipsis">
      Avtalsinformation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serveruppgifter" class="md-nav__link">
    <span class="md-ellipsis">
      Serveruppgifter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-grundlaggande-serverkonfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      3. Grundläggande Serverkonfiguration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Grundläggande Serverkonfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uppdatera-systemet" class="md-nav__link">
    <span class="md-ellipsis">
      Uppdatera systemet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installera-nodvandiga-verktyg" class="md-nav__link">
    <span class="md-ellipsis">
      Installera nödvändiga verktyg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-webbserver-apache" class="md-nav__link">
    <span class="md-ellipsis">
      4. Webbserver (Apache)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-databas-mysql-8" class="md-nav__link">
    <span class="md-ellipsis">
      5. Databas (MySQL 8)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Databas (MySQL 8)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forberedelse-och-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Förberedelse och Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aterstallning-av-root-losenord-safety-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Återställning av Root-lösenord ("Safety Mode")
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skapa-databas-och-anvandare" class="md-nav__link">
    <span class="md-ellipsis">
      Skapa Databas och Användare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sakra-installationen" class="md-nav__link">
    <span class="md-ellipsis">
      Säkra installationen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-php-installation" class="md-nav__link">
    <span class="md-ellipsis">
      6. PHP-installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-du-skall-se-en-gron-text-som-sager-active-running" class="md-nav__link">
    <span class="md-ellipsis">
      - Du skall se en grön text som säger "active (running)"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-sakerhet-brandvagg-fail2ban" class="md-nav__link">
    <span class="md-ellipsis">
      7. Säkerhet (Brandvägg &amp; Fail2Ban)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Säkerhet (Brandvägg &amp; Fail2Ban)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#konfigurera-brandvaggen-firewalld" class="md-nav__link">
    <span class="md-ellipsis">
      Konfigurera Brandväggen (Firewalld)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installera-fail2ban" class="md-nav__link">
    <span class="md-ellipsis">
      Installera Fail2Ban
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forklaring-av-installningarna" class="md-nav__link">
    <span class="md-ellipsis">
      Förklaring av inställningarna:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-starta-tjansten" class="md-nav__link">
    <span class="md-ellipsis">
      4. Starta tjänsten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-verifiera-att-tjansten-fugerar" class="md-nav__link">
    <span class="md-ellipsis">
      5. Verifiera att tjänsten fugerar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#om-jag-rakat-banna-mig-sjalv" class="md-nav__link">
    <span class="md-ellipsis">
      Om jag råkat 'banna' mig själv
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-ssh-rattigheter-den-svara-biten" class="md-nav__link">
    <span class="md-ellipsis">
      8. SSH &amp; Rättigheter (Den svåra biten)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. SSH &amp; Rättigheter (Den svåra biten)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixa-konfigurationen-om-inloggning-strular" class="md-nav__link">
    <span class="md-ellipsis">
      Fixa konfigurationen om inloggning strular
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-lagra-ditt-ssh-losenord-lokalt" class="md-nav__link">
    <span class="md-ellipsis">
      10. Lagra ditt SSH-lösenord (lokalt)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Lagra ditt SSH-lösenord (lokalt)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starta-tjansten-gors-en-gang" class="md-nav__link">
    <span class="md-ellipsis">
      Starta tjänsten (Görs en gång)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lagg-till-nyckeln" class="md-nav__link">
    <span class="md-ellipsis">
      Lägg till nyckeln
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resultat" class="md-nav__link">
    <span class="md-ellipsis">
      Resultat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="installation-av-vps-server-hos-strato">Installation av VPS-server hos STRATO<a class="headerlink" href="#installation-av-vps-server-hos-strato" title="Permanent link">&para;</a></h1>
<p>Om du någon gång behöver installera om din VPS-server från början så kan denna handledning vara till viss hjälp.</p>
<p>Har försökt ta med samtliga nödvändiga steg för att göra ominstallationen så enkel som möjligt.
Har även försökt ge några kommentarer så att du vet vad du installerar och varför.</p>
<pre><code class="language-text">Alla kommandon är noterade i en sån här ruta
</code></pre>
<p>Ibland kan det finnas ett exempel på en dialog som kommandot kommer att ha med dig (för att erhålla ytterligare direktiv).</p>
<p>Dialogen är då markerad på nedanstående sätt med, av mig, angivna svar i <strong>fet stil</strong></p>
<h3 id="exempel"><strong>Exempel:</strong><a class="headerlink" href="#exempel" title="Permanent link">&para;</a></h3>
<blockquote>
<p><em>Securing the MySQL server deployment.</em><br>
<em>Enter password for user root:</em> <strong>Maija_2609</strong><br>
<em>The 'validate_password' component is installed on the server.</em><br>
...
<em>Success.</em></p>
</blockquote>
<p>Naturligtvis kan vissa avsnitt vara lite blodfattiga och skulle må väl av lite mer beskrivande text men vi börjar så här och kompletterar med klargörande text om det visar sig nödvändigt.</p>
<p>Notera att <strong>alla</strong> installationssteg är anpassade för valet av operativsystem - jag har valt att använda <strong>AlmaLinux</strong><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>.</p>
<hr />
<h2 id="1-forberedelser-lokal-dator">1. Förberedelser (Lokal Dator)<a class="headerlink" href="#1-forberedelser-lokal-dator" title="Permanent link">&para;</a></h2>
<p>Innan du rör servern, se till att du har en giltig <strong>SSH-nyckel</strong> på din lokala dator. Denna behövs för att automatisera inloggningen och öka säkerheten.</p>
<h3 id="skapa-ssh-nyckel">Skapa SSH-nyckel<a class="headerlink" href="#skapa-ssh-nyckel" title="Permanent link">&para;</a></h3>
<p>För att skapa en SSH-nyckel<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup> i Mac-miljö använder jag mig av ssh-keygen<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>.</p>
<p><em>(Du kanske föredrar </em><em>Windows</em><em> och måste då använda dig av något annat verktyg för att skapa din SSH-nyckel.)</em></p>
<pre><code class="language-bash">ssh-keygen -t rsa -b 4096 -C &quot;MarketData-VPS&quot;
</code></pre>
<p>Ange namnet till den fil i vilken SSH-nyckeln skall skapas samt ge ett lämpligt 'passphrase' för SSH-nyckeln.</p>
<p>I dialogen nedan så ser du de namn jag valt för den nuvarande installationen av vår gemensamma VPS-server. Du kanske vill använda andra namn. Om så, anteckna dem någonstans för säkerhets skull - du kanske behöver använda dem någon gång i framtiden.</p>
<p>För tydlighets skull har jag utelämnat såväl 'fingerprint' samt 'image' för SSH-nyckeln (<em>långa haranger av tecken</em>).</p>
<blockquote>
<p><em>Generating public/private rsa key pair.</em><br>
<em>Enter file in which to save the key (/Users/siren/.ssh/id_rsa):</em><br>
<strong>/Users/siren/.ssh/STRATO</strong><br>
<em>Enter passphrase (empty for no passphrase):</em><br>
<strong>MarketData</strong><br>
<em>Enter same passphrase again:</em><br>
<strong>MarketData</strong><br>
<em>Your identification has been saved in /Users/siren/.ssh/STRATO</em><br>
<em>Your public key has been saved in /Users/siren/.ssh/STRATO.pub</em><br>
<em>The key fingerprint is:</em><br>
...<br>
<em>The key's randomart image is:</em><br>
...</p>
</blockquote>
<h3 id="konfigurera-lokal-ssh-konfigurering">Konfigurera lokal SSH-konfigurering<a class="headerlink" href="#konfigurera-lokal-ssh-konfigurering" title="Permanent link">&para;</a></h3>
<p>För att slippa ange vilken nyckelfil som ska användas vid varje inloggning, ställ in din lokala konfiguration.</p>
<p>Detta gör att du kan skriva <strong>ssh root@87.106.130.217</strong> utan att behöva lägga till <strong>-i ~/.ssh/STRATO</strong> varje gång</p>
<pre><code class="language-bash">nano ~/.ssh/config
</code></pre>
<p>Klistra in följande text</p>
<pre><code class="language-ini">Host 87.106.130.217
    User root
    IdentityFile ~/.ssh/STRATO
    IdentitiesOnly yes
</code></pre>
<p>Spara filen och avsluta nano med hjälp av : <strong>Ctrl+O, Enter, Ctrl+X</strong></p>
<hr />
<h2 id="2-ominstallation-via-strato-panelen">2. Ominstallation via Strato-panelen<a class="headerlink" href="#2-ominstallation-via-strato-panelen" title="Permanent link">&para;</a></h2>
<p>Efter att du skapat din SSH-nyckel så skall du logga in mot Strato</p>
<pre><code class="language-ini">https://www.strato.se/apps/CustomerService
</code></pre>
<p>Ditt kundnummer är : <strong>77971995</strong><br>
och ditt lösenord är : <strong>Maija---9377</strong></p>
<p>Du kommer nu att få upp en sida med dina avtals- och server-upgifter.
<em>Jag skriver ner de som gäller idag så att vi har dem lagrade även utanför Strato. Dessa är inget du behöver bekymra dig om då de inte har någon bäring på ominstallationen i sig.</em></p>
<blockquote>
<h2 id="avtalsinformation">Avtalsinformation<a class="headerlink" href="#avtalsinformation" title="Permanent link">&para;</a></h2>
<p>Ordernummer : <em>9114028</em><br>
Paketnamn : <strong>STRATO VPS Linux VC4-8</strong> (12.se)<br>
Pris / månad : <strong>120 kr/månad</strong>.<br>
Beställningsdatum : <strong>27/11/2024</strong><br>
Aktiv sedan : <strong>27/11/2024</strong><br>
Nästa möjliga uppsägning : <strong>27/11/2026</strong><br></p>
<h2 id="serveruppgifter">Serveruppgifter<a class="headerlink" href="#serveruppgifter" title="Permanent link">&para;</a></h2>
<p>Operativsystem : <strong>AlmaLinux 9</strong><br>
Processor : <strong>4 Kärnor</strong><br>
RAM : <strong>8 GB</strong><br>
Lagringsutrymme : <strong>240 GB</strong><br>
Användare : <strong>root</strong><br>
Värd : <strong>87.106.130.217</strong><br>
Server IP-adress (IPv4) : <strong>87.106.130.217</strong><br>
Server IP-adress (IPv6) : <strong>2a01:239:363:8500::1</strong></p>
</blockquote>
<p>I slutet av sidan ser du ett antal knappar där "<strong>Ominstallation</strong>" är det val du skall göra när du avser att göra en ominstallation av VPS-servern.</p>
<p>När du klickar knappen "<strong>Ominstallation</strong>" så erhålls lite varningar om vad som kommer att ske och att det inte finns någon väg tillbaka om valet är att gå vidare.</p>
<p>Den aktuella installationen kommer att helt raderas.</p>
<p>När du väljer att gå vidare så måste du ange din SSH-nyckel.</p>
<p>Du kopierar din SSH-nyckel (som är lååång och ligger i filen <strong>/Users/siren/.ssh/STRATO.pub</strong> (eller vilken fil du nu angav till ssh-keygen)). Kopiera och klistra in den i <strong>Strato Re-installation wizard</strong>.</p>
<p>I Mac miljö hämtar du den enklast mha</p>
<pre><code class="language-bash">cat ~/.ssh/STRATO.pub
</code></pre>
<p>Just nu ser vår SSH-nyckel som följer (<em>inses lätt att det blir tämligen svårt att knappa in den koden manuellt)</em>:</p>
<blockquote>
<p><em>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDDgxP5ButcDcA29EoX35TYCzkQrem8Vj0D2EG0RVYdfsBcmdVxhlXZiQLeMn6zWEevH+J73rQx0kGmeLxeclbHY/bdpLV1HdVQb3M4RjU+ry0Ki8BrujnO7yZ2J36uUZ7j9hvAfygOtGdqpwqkYntrJPL7LiEF6WvcVPF41NgZ4Q+e0LbGwqKjAVw5hR1u3ORG5sdhP5oYG6ICNz6ftJXSTc3SDTCgRT+rp3n5/xcuiOxIzngSMbXH31vyKmMNwADs9T4+0LNROlz5cCamoFHBjkYhIDqXOsrcDcqOYEwJEso+RjW9XmwwmdGHIX2m/fF26X3RaVwXLK9haqQD++CkDLkFfGzputGyR8mzTuPyw5OLs70i1RDNLMYLD/yF4WaHOupAcDgpsjjMULfVEiye28uemEkD0WLgJaCCWgAxW6W5IU1x/fUi3OQXLlG9Vpb2gYltZ7ojsiR8dXA4aZTAN2V78CeVchPJUdD4c6QoJmytgPK06iJFBiodSdGAj6vtbiqBQGVC74OPHdvPemY8GKlkoeAv+pXjaRkbao4oyZgZ5hbyyzS1IUyDbwexcyRRYrb1NQpvv70U0OQ+XOCORvarZZRQfuc16P6hB4C2u0eYlieHAZG3B2mnIzG6+FxyYQzTBbBN7GXO/49NydmA2cwZWJ17oQCIFzQMJbj3ww== MarketData-VPS</em></p>
</blockquote>
<p><strong>Observera</strong> att ett lösenord måste anges när du startar en om-installation av VPS-servern.</p>
<p>Jag använde <strong>MarketData2025</strong> som  lösenord. Du kanske vill ha något helt annat. Anteckna det lösenord du väljer att använda dig av på något säkert ställe då den är lätt att glömma.</p>
<p>All data för den nuvarande installationen kommer nu att raderas.</p>
<p>När den nya VPS-server är klar uppmanas du att öppna en session mot den nya VPS-server.</p>
<pre><code class="language-bash">ssh -i ~/.ssh/STRATO root@87.106.130.217
</code></pre>
<p>alternativt</p>
<pre><code class="language-bash">ssh root@87.106.130.217
</code></pre>
<p>om du konfigurerat din lokala SSH-konfiguration.</p>
<blockquote>
<p>Enter passphrase for key '<strong>/Users/siren/.ssh/STRATO</strong>':<br>
<strong>MarketData</strong></p>
</blockquote>
<hr />
<h2 id="3-grundlaggande-serverkonfiguration">3. Grundläggande Serverkonfiguration<a class="headerlink" href="#3-grundlaggande-serverkonfiguration" title="Permanent link">&para;</a></h2>
<h3 id="uppdatera-systemet">Uppdatera systemet<a class="headerlink" href="#uppdatera-systemet" title="Permanent link">&para;</a></h3>
<p>Det första du alltid ska göra är att hämta de senaste säkerhetsuppdateringarna.</p>
<pre><code class="language-bash">dnf update -y
</code></pre>
<h3 id="installera-nodvandiga-verktyg">Installera nödvändiga verktyg<a class="headerlink" href="#installera-nodvandiga-verktyg" title="Permanent link">&para;</a></h3>
<p>Installera textredigeraren 'nano' och kalkylatorn 'bc' (krävs för dina skript).</p>
<pre><code class="language-bash">dnf install nano bc -y
</code></pre>
<hr />
<h2 id="4-webbserver-apache">4. Webbserver (Apache)<a class="headerlink" href="#4-webbserver-apache" title="Permanent link">&para;</a></h2>
<p>Vi installerar Apache (<em>kallas httpd i AlmaLinux</em>) för att kunna visa webbsidor.</p>
<pre><code class="language-bash">dnf install httpd -y
systemctl enable --now httpd
</code></pre>
<hr />
<h2 id="5-databas-mysql-8">5. Databas (MySQL 8)<a class="headerlink" href="#5-databas-mysql-8" title="Permanent link">&para;</a></h2>
<p>AlmaLinux kommer förinställt med MariaDB, men vi behöver äkta MySQL 8 för kompatibilitet med våra lagrade procedurer.</p>
<h3 id="forberedelse-och-installation">Förberedelse och Installation<a class="headerlink" href="#forberedelse-och-installation" title="Permanent link">&para;</a></h3>
<ol>
<li>Installera det officiella MySQL-repositoryt:</li>
</ol>
<pre><code class="language-bash">dnf install https://repo.mysql.com/mysql80-community-release-el9-5.noarch.rpm -y
</code></pre>
<ol>
<li>Inaktivera den inbyggda modulen (för att undvika konflikter):</li>
</ol>
<pre><code class="language-bash">dnf module disable mysql -y
</code></pre>
<ol>
<li>Installera MySQL Community Server:</li>
</ol>
<pre><code class="language-bash">dnf install mysql-community-server -y
</code></pre>
<ol>
<li>Starta tjänsten
5.</li>
</ol>
<pre><code class="language-bash">systemctl enable --now mysqld
</code></pre>
<h3 id="aterstallning-av-root-losenord-safety-mode">Återställning av Root-lösenord ("Safety Mode")<a class="headerlink" href="#aterstallning-av-root-losenord-safety-mode" title="Permanent link">&para;</a></h3>
<p>MySQL 8 genererar ett tillfälligt lösenord som ofta är svårt att hitta eller använda.</p>
<p>Vi går runt detta genom att starta databasen i ett läge där den inte kräver lösenord för att göra den initiala inställningen.</p>
<ol>
<li>Stoppa databasen:</li>
</ol>
<pre><code class="language-bash">systemctl stop mysqld
</code></pre>
<ol>
<li>Starta i osäkert läge:</li>
</ol>
<pre><code class="language-bash">systemctl set-environment MYSQLD_OPTS=&quot;--skip-grant-tables&quot;
systemctl start mysqld
</code></pre>
<ol>
<li>Logga in och sätt nytt lösenord:</li>
</ol>
<pre><code class="language-bash">mysql -u root
</code></pre>
<ul>
<li>Kör följande SQL-kommandon (byt ut Maija_2609 mot ditt valda lösenord):</li>
</ul>
<pre><code class="language-bash">FLUSH PRIVILEGES;
ALTER USER 'root'@'localhost' IDENTIFIED BY 'Maija_2609';
FLUSH PRIVILEGES;
EXIT;
</code></pre>
<ol>
<li>Startat om i normalt läge:</li>
</ol>
<pre><code class="language-bash">systemctl stop mysqld
systemctl unset-environment MYSQLD_OPTS
systemctl start mysqld
</code></pre>
<h3 id="skapa-databas-och-anvandare">Skapa Databas och Användare<a class="headerlink" href="#skapa-databas-och-anvandare" title="Permanent link">&para;</a></h3>
<p>Nu loggar vi in "på riktigt" och skapar applikationsdatabasen och användare.</p>
<pre><code class="language-bash">mysql -u root -p
````

och ange lösenordet du satte ovan.

```bash
-- Skapa databasen
CREATE DATABASE MD;
-- Skapa användaren 'Admin' som får logga in utifrån (för Workbench)
CREATE USER 'Admin'@'%' IDENTIFIED BY 'Maija_2609';
GRANT ALL PRIVILEGES ON *.* TO 'Admin'@'%' WITH GRANT OPTION;
-- VIKTIGT: Skapa SAMMA användare för 'localhost' (för skript som körs på servern)
CREATE USER IF NOT EXISTS 'Admin'@'localhost' IDENTIFIED BY 'Maija_2609';
GRANT ALL PRIVILEGES ON *.* TO 'Admin'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;
EXIT;
</code></pre>
<ul>
<li>Varför två användare?<br>
 MySQL ser User@% (fjärranvändare) och User@localhost (lokal användare) som två helt skilda konton. Utan localhost-användaren kommer dina importskript att misslyckas.</li>
</ul>
<h3 id="sakra-installationen">Säkra installationen<a class="headerlink" href="#sakra-installationen" title="Permanent link">&para;</a></h3>
<p>Kör säkerhetsskriptet för att ta bort testdatabaser och anonyma användare.</p>
<pre><code class="language-bash">mysql_secure_installation
</code></pre>
<blockquote>
<p><em>Securing the MySQL server deployment.</em><br></p>
<p><em>Enter password for user root:</em><br>
  <strong>Maija_2609</strong><br>
<em>The 'validate_password' component is installed on the server.</em>
<em>The subsequent steps will run with the existing configuration</em>
<em>of the component.</em>
<em>Using existing password for root.</em>
<em>Estimated strength of the password: 100</em><br>
<em>Change the password for root ? ((Press y|Y for Yes, any other key for No) :</em></p>
<p><em>... skipping.</em><br>
<em>By default, a MySQL installation has an anonymous user,</em>
<em>allowing anyone to log into MySQL without having to have</em>
<em>a user account created for them. This is intended only for</em>
<em>testing, and to make the installation go a bit smoother.</em>
<em>You should remove them before moving into a production</em>
<em>environment.</em><br>
<em>Remove anonymous users? (Press y|Y for Yes, any other key for No) :</em><br>
<strong>y</strong><br>
<em>Success</em>.</p>
<p><em>Normally, root should only be allowed to connect from</em>
<em>'localhost'. This ensures that someone cannot guess at</em>
<em>the root password from the network</em>.</p>
<p><em>Disallow root login remotely? (Press y|Y for Yes, any other key for No) :</em><br>
<strong>y</strong><br>
<em>Success</em>.</p>
<p><em>By default, MySQL comes with a database named 'test' that</em>
<em>anyone can access. This is also intended only for testing,</em>
<em>and should be removed before moving into a production</em>
<em>environment.</em><br>
<em>Remove test database and access to it? (Press y|Y for Yes, any other key for No) :</em><br>
<strong>y</strong><br>
<em>Dropping test database...</em><br>
<em>Success.</em></p>
<p><em>Removing privileges on test database...</em><br>
<em>Success.</em></p>
<p><em>Reloading the privilege tables will ensure that all changes</em>
<em>made so far will take effect immediately.</em></p>
<p><em>Reload privilege tables now? (Press y|Y for Yes, any other key for No) :</em><br>
<strong>y</strong><br>
<em>Success</em>.</p>
<p><em>All done!</em></p>
</blockquote>
<hr />
<h2 id="6-php-installation">6. PHP-installation<a class="headerlink" href="#6-php-installation" title="Permanent link">&para;</a></h2>
<p>För att webbservern ska kunna köra din kod och prata med databasen.</p>
<ol>
<li>Installera PHP och nödvändiga moduler:</li>
</ol>
<pre><code class="language-ini">dnf install php php-fpm php-mysqlnd php-opcache php-gd php-mbstring -y
</code></pre>
<ol>
<li>Starta PHP-processhanteraren:</li>
</ol>
<pre><code class="language-ini">systemctl enable --now php-fpm
</code></pre>
<ol>
<li>Starta om Apache (så den hittar PHP):</li>
</ol>
<pre><code class="language-ini">systemctl restart httpd
</code></pre>
<ol>
<li>Verifiera att det körs:</li>
</ol>
<pre><code class="language-ini">systemctl status php-fpm
</code></pre>
<h2 id="-du-skall-se-en-gron-text-som-sager-active-running">- <em>Du skall se en grön text som säger "</em><em>active (running)</em><em>"</em><a class="headerlink" href="#-du-skall-se-en-gron-text-som-sager-active-running" title="Permanent link">&para;</a></h2>
<h2 id="7-sakerhet-brandvagg-fail2ban">7. Säkerhet (Brandvägg &amp; Fail2Ban)<a class="headerlink" href="#7-sakerhet-brandvagg-fail2ban" title="Permanent link">&para;</a></h2>
<h3 id="konfigurera-brandvaggen-firewalld">Konfigurera Brandväggen (Firewalld)<a class="headerlink" href="#konfigurera-brandvaggen-firewalld" title="Permanent link">&para;</a></h3>
<p>Vi måste stänga alla portar utom de vi faktiskt använder.</p>
<pre><code class="language-ini">dnf install firewalld -y
systemctl enable --now firewalld
firewall-cmd --permanent --add-service=ssh
firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=https
firewall-cmd --permanent --add-port=3306/tcp
firewall-cmd --reload
</code></pre>
<h3 id="installera-fail2ban">Installera Fail2Ban<a class="headerlink" href="#installera-fail2ban" title="Permanent link">&para;</a></h3>
<p>Detta skyddar servern mot "brute-force"-attacker genom att bannlysa IP-adresser som gissar fel lösenord för många gånger.
1. Installera EPEL (Extra Packages for Enterprise Linux):</p>
<pre><code class="language-ini">dnf install epel-release -y
</code></pre>
<ol>
<li>Installera Fail2Ban:</li>
</ol>
<pre><code class="language-ini">dnf install fail2ban fail2ban-firewalld -y
</code></pre>
<ol>
<li>Konfigurera (skapa filen jail.local)</li>
</ol>
<pre><code class="language-ini">[DEFAULT]
bantime = 24h
findtime = 10m
maxretry = 5
# Lägg till din egen IP här för att undvika att du bannar dig själv!
ignoreip = 127.0.0.1/8 ::1 192.168.50.47
banaction = firewallcmd-rich-rules
banaction_allports = firewallcmd-rich-rules

[sshd]
enabled = true
backend = systemd
</code></pre>
<h3 id="forklaring-av-installningarna">Förklaring av inställningarna:<a class="headerlink" href="#forklaring-av-installningarna" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Inställning</th>
<th>Beskrivning</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>bantime</strong></td>
<td>Hur länge en IP bannlyses (1h = 1 timme, 1d = 1 dag).</td>
</tr>
<tr>
<td><strong>findtime</strong></td>
<td>Tidsfönstret där misslyckade försök räknas.</td>
</tr>
<tr>
<td><strong>maxretry</strong></td>
<td>Antal tillåtna försök inom tidsfönstret (t.ex. 5).</td>
</tr>
<tr>
<td><strong>ignoreip</strong></td>
<td>IP-adresser som aldrig ska bannas (din egen dator)</td>
</tr>
<tr>
<td><strong>banaction</strong></td>
<td>Vilken metod som används för att blockera (Firewalld).</td>
</tr>
</tbody>
</table>
<h3 id="4-starta-tjansten">4. Starta tjänsten<a class="headerlink" href="#4-starta-tjansten" title="Permanent link">&para;</a></h3>
<pre><code class="language-ini">systemctl enable --now fail2ban
</code></pre>
<h3 id="5-verifiera-att-tjansten-fugerar">5. Verifiera att tjänsten fugerar<a class="headerlink" href="#5-verifiera-att-tjansten-fugerar" title="Permanent link">&para;</a></h3>
<pre><code class="language-ini">fail2ban-client status sshd
</code></pre>
<h3 id="om-jag-rakat-banna-mig-sjalv">Om jag råkat 'banna' mig själv<a class="headerlink" href="#om-jag-rakat-banna-mig-sjalv" title="Permanent link">&para;</a></h3>
<p>Om du oavsiktligt råkat banna dig själv så kan du göra 'unban' av en specifik IP-adress mhanedanstående kommando (från en annan IP som till exempel VNC-konsolen)</p>
<pre><code class="language-ini">fail2ban-client set sshd unbanip 83.251.178.197
</code></pre>
<hr />
<h2 id="8-ssh-rattigheter-den-svara-biten">8. SSH &amp; Rättigheter (Den svåra biten)<a class="headerlink" href="#8-ssh-rattigheter-den-svara-biten" title="Permanent link">&para;</a></h2>
<p><strong>Varning</strong>: Försök <strong>INTE</strong> skapa en separat <strong>webadmin</strong>-användare för deployment om du inte är mycket van vid SELinux. Det orsakade stora problem tidigare.</p>
<p>Vi använder <strong>root</strong> för uppladdning och justerar rättigheterna efteråt.</p>
<h3 id="fixa-konfigurationen-om-inloggning-strular">Fixa konfigurationen om inloggning strular<a class="headerlink" href="#fixa-konfigurationen-om-inloggning-strular" title="Permanent link">&para;</a></h3>
<p>Om du inte kan logga in med SSH-nyckel direkt efter installationen kan AlmaLinux säkerhetsinställningar (SELinux) eller SSH-konfigurationen behöva justeras.</p>
<p>Om du blir utlåst, använd VNC-konsolen i Strato och kör följande kommandon för att tvinga systemet att acceptera dig:</p>
<ol>
<li><strong>Tvinga in SSH-inställningar</strong>:<br>
Istället för att editera originalfilen för SSH konfigurering (som i regel görs 'override' på) så skapar vi en sk "00"-fil.<br>
OpenSSH läser alltid in filer i alfabetisk ordning vilket gör att 00-fix.conf kommer att appliceras före normalkonfigureringen.</li>
</ol>
<pre><code class="language-ini">echo -e &quot;PermitRootLogin yes&lt;br&gt;nPasswordAuthentication yes&quot; &gt; /etc/ssh/sshd_config.d/00-fix.conf
</code></pre>
<ol>
<li><strong>Sätt SELinux till Permissive (tillåtande)</strong>:<br>
I AlmaLinux, räcker det inte med att filer har korrekta rättigheter, de måste även ha en korrekt sk "Security Context". Om Security Context är felaktig så kommer det att blockera dig. Ändra därför till "PERMISSIVE" så att blockerigen hävs.</li>
</ol>
<pre><code class="language-ini">nano /etc/selinux/config
````
&gt;Find the line:&lt;br&gt;
SELINUX=enforcing&lt;br&gt;
Change it to:&lt;br&gt;
SELINUX=permissive&lt;br&gt;
*Save the file (Ctrl+O, Enter) and Exit (Ctrl+X)*

- ändra till **SELINUX=permissive**.

1. **Starta om**: reboot.
## 9. Slutförande: Ladda upp och Sätt rättigheter
När du laddat upp dina filer (via ditt **deploy.sh** skript), måste du se till att webbservern äger dem, annars kan inte sidan visas.

Kör dessa kommandon efter varje stor uppladdning:
1. Ge ägarskap till Apache:
```ini
chown -R apache:apache /var/www/html/MD
</code></pre>
<ol>
<li>Sätt rättigheter på mappar (755):</li>
</ol>
<pre><code class="language-ini">find /var/www/html/MD -type d -exec chmod 755 {} &lt;br&gt;;
</code></pre>
<ol>
<li>Sätt rättigheter på filer (644):</li>
</ol>
<pre><code class="language-ini">find /var/www/html/MD -type f -exec chmod 644 {} &lt;br&gt;;
</code></pre>
<ol>
<li>Tagga filer för SELinux (om du kör SELinux i Enforcing-läge):</li>
</ol>
<pre><code class="language-ini">chcon -R -t httpd_sys_content_t /var/www/html/MD
</code></pre>
<h2 id="10-lagra-ditt-ssh-losenord-lokalt">10. Lagra ditt SSH-lösenord (lokalt)<a class="headerlink" href="#10-lagra-ditt-ssh-losenord-lokalt" title="Permanent link">&para;</a></h2>
<p>Lagra SSH-lösenordet i 'Apple Keychain' (<em>gäller bara om du kör Mac</em>)</p>
<pre><code class="language-ii">- **ssh-add --apple-use-keychain ~/.ssh/STRATO**
</code></pre>
<p>Om du däremot använder dig av Windows så måste du göra detta på ett helt annat sätt.</p>
<p>Skulle gissa på att du där gör något i stil med följande.</p>
<p>Du aktiverar en Windows-tjänst som heter "<strong>OpenSSH Authentication Agent</strong>". Den skall fungera som en "hovmästare" som håller i nycklarna åt dig så att du slipper skriva lösenordet varje gång.</p>
<h3 id="starta-tjansten-gors-en-gang">Starta tjänsten (Görs en gång)<a class="headerlink" href="#starta-tjansten-gors-en-gang" title="Permanent link">&para;</a></h3>
<p>Som standard är denna tjänst ofta avstängd i Windows. Du måste slå på den.
1. Öppna <strong>PowerShell</strong> som Administratör<br>
(<em>Högerklicka på Start-menyn -&gt; välj Terminal (Admin) eller PowerShell (Admin)</em>).
2. Kör följande kommando för att ställa in så att tjänsten startar automatiskt:</p>
<pre><code class="language-ini">Get-Service ssh-agent | Set-Service -StartupType Automatic
</code></pre>
<ol>
<li>Starta tjänsten nu direkt:</li>
</ol>
<pre><code class="language-ini">Start-Service ssh-agent
</code></pre>
<h3 id="lagg-till-nyckeln">Lägg till nyckeln<a class="headerlink" href="#lagg-till-nyckeln" title="Permanent link">&para;</a></h3>
<p>Nu när "hovmästaren" (agenten) är vaken, kan du ge nyckeln till honom.
1. I samma PowerShell-fönster, kör:</p>
<pre><code class="language-ini">ssh-add C:&lt;br&gt;Users&lt;br&gt;DittNamn&lt;br&gt;.ssh&lt;br&gt;STRATO
</code></pre>
<ul>
<li>(<em>Byt ut DittNamn och sökvägen till där nyckeln ligger</em>).</li>
<li>Windows kommer fråga efter "Passphrase" en gång.</li>
<li>Skriv in lösenordet.</li>
</ul>
<h3 id="resultat">Resultat<a class="headerlink" href="#resultat" title="Permanent link">&para;</a></h3>
<p>Nu ligger den upplåsta nyckeln i Windows minne (i SSH-agenten).
När du sedan kör dina skript eller skriver ssh root@... i PowerShell eller CMD, kommer Windows automatiskt att använda den upplåsta nyckeln utan att fråga dig om lösenordet igen.</p>
<hr />
<h1 id="klart-din-server-ar-nu-fullt-installerad-och-sakrad">Klart! Din server är nu fullt installerad och säkrad<a class="headerlink" href="#klart-din-server-ar-nu-fullt-installerad-och-sakrad" title="Permanent link">&para;</a></h1>
<h3 id="notera">NOTERA<a class="headerlink" href="#notera" title="Permanent link">&para;</a></h3>
<p>root user är numera ändrad till <strong>mormaija123</strong></p>
<h2 id="om-du-behover-ga-in-i-vnc-konsolen">Om du behöver gå in i VNC-konsolen<a class="headerlink" href="#om-du-behover-ga-in-i-vnc-konsolen" title="Permanent link">&para;</a></h2>
<h3 id="montera-disken">Montera disken<a class="headerlink" href="#montera-disken" title="Permanent link">&para;</a></h3>
<pre><code class="language-ini">mkdir -p /mnt/vps
mount /dev/vda4 /mnt/vps
</code></pre>
<h3 id="andra-root-losenord">Ändra root lösenord<a class="headerlink" href="#andra-root-losenord" title="Permanent link">&para;</a></h3>
<pre><code class="language-ini">chroot /mnt/vps passwd root
</code></pre>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<h1 id="vad-ar-almalinux">Vad är AlmaLinux?<a class="headerlink" href="#vad-ar-almalinux" title="Permanent link">&para;</a></h1>
<p>AlmaLinux är ett gratis, öppen källkods-operativsystem för servrar.</p>
<p>Det är en så kallad "<strong>Enterprise Linux</strong>"-distribution.</p>
<p>Det viktigaste att veta är att AlmaLinux är 1:1 binärt kompatibelt med RHEL (<strong>Red Hat Enterprise Linux</strong>).</p>
<p>Det betyder att AlmaLinux i praktiken är Red Hat (<em>världens största kommersiella Linux</em>), men helt gratis och utan krav på dyra licenser eller supportavtal.</p>
<h2 id="bakgrund">Bakgrund<a class="headerlink" href="#bakgrund" title="Permanent link">&para;</a></h2>
<p>För att förstå AlmaLinux måste man känna till dramat kring CentOS.</p>
<p>I decennier var CentOS standardvalet för servrar. Det var en gratis kopia av Red Hat. I slutet av 2020 meddelade Red Hat (som äger CentOS) att de lägger ner den stabila versionen och ersätter den med CentOS Stream (en testversion för framtida uppdateringar).</p>
<p>Världens systemadministratörer fick panik. De behövde ett stabilt system, inte en testbädd.</p>
<p>AlmaLinux skapades som direkt svar på detta för att fylla tomrummet.</p>
<h2 id="vem-ligger-bakom">Vem ligger bakom?<a class="headerlink" href="#vem-ligger-bakom" title="Permanent link">&para;</a></h2>
<p>AlmaLinux startades ursprungligen av företaget CloudLinux, som är giganter inom webbhotell-branschen. De insåg att deras kunder behövde ett alternativ till CentOS.</p>
<p>För att garantera att projektet inte skulle köpas upp eller läggas ner (<em>som CentOS gjorde</em>), lämnade de dock snabbt över kontrollen till en <strong>icke-vinstdrivande stiftelse</strong> (<em>The AlmaLinux OS Foundation</em>).</p>
<p>Idag backas projektet av jättar som:
  - <strong>Microsoft</strong>
  - <strong>AWS (Amazon)</strong>
  - <strong>ARM</strong>
  - <strong>cPanel</strong> (Standardverktyget för webbhotell)</p>
<p>Detta gör att framtiden för operativsystemet anses vara mycket säker.</p>
<h2 id="hur-bra-ar-det">Hur bra är det?<a class="headerlink" href="#hur-bra-ar-det" title="Permanent link">&para;</a></h2>
<p>Kort sagt: <strong>Det är så bra det kan bli för en server</strong>.</p>
<ul>
<li><strong>Stabilitet</strong> AlmaLinux fokuserar på extrem stabilitet framför "nyhetens behag". Programvaror kraschar sällan. Uppdateringar testas mycket noga.</li>
<li><strong>Säkerhet</strong> Det kommer med säkerhetsfunktioner aktiverade som standard (t.ex. SELinux och brandväggar), vilket du redan har märkt under din installation. Det är designat för att stå emot attacker.</li>
<li><strong>Lång support</strong> Version 9 (som vi kör) stöds med säkerhetsuppdateringar ända till 2032. Vi behöver alltså inte installera om servern på nästan 10 år.</li>
</ul>
<h2 id="hur-populart-ar-det">Hur populärt är det?<a class="headerlink" href="#hur-populart-ar-det" title="Permanent link">&para;</a></h2>
<p>Sedan lanseringen 2021 har AlmaLinux vuxit explosionsartat.
Det är idag ett av de två dominerande valen för att ersätta CentOS (det andra är Rocky Linux).
Det används av NASA, CERN och majoriteten av världens webbhotell.
Om du hyr en VPS idag är AlmaLinux ofta standardvalet jämte Ubuntu LTS.</p>
<p>AlmaLinux har blivit standard inom storföretag, banker och hosting-industrin.</p>
<h2 id="slutsats">Slutsats<a class="headerlink" href="#slutsats" title="Permanent link">&para;</a></h2>
<p>Att jag valde AlmaLinux för vår "<strong>MarketData</strong>"-applikation är troligtvis ett bra val.</p>
<p>Det kräver lite mer konfiguration i början (som vi sett med SSH-nycklar och databaser), men när det väl rullar är det en "stridsvagn" som sällan går sönder.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<h1 id="en-kort-introduktiontill-ssh">En kort introduktiontill SSH<a class="headerlink" href="#en-kort-introduktiontill-ssh" title="Permanent link">&para;</a></h1>
<p>SSH-nycklar (<strong>Secure Shell keys</strong>) är en metod för att identifiera sig och logga in på en server utan att använda ett traditionellt lösenord. Det anses vara betydligt säkrare än vanliga lösenord och är industristandard för serverhantering.</p>
<h2 id="hur-fungerar-det">Hur fungerar det?<a class="headerlink" href="#hur-fungerar-det" title="Permanent link">&para;</a></h2>
<p>Tekniken bygger på kryptografi med ett nyckelpar. Dessa två nycklar hör ihop matematiskt, men fyller olika funktioner:</p>
<h2 id="den-privata-nyckeln-private-key">Den privata nyckeln (Private Key)<a class="headerlink" href="#den-privata-nyckeln-private-key" title="Permanent link">&para;</a></h2>
<p>Sparas på din lokala dator (t.ex. i <strong>~/.ssh/id_ed25519</strong>) och fungerar som din personliga ID-handling.</p>
<p>Den får aldrig delas med någon. Om någon kommer över denna kan de logga in som du.</p>
<h2 id="den-publika-nyckeln-public-key">Den publika nyckeln (Public Key)<a class="headerlink" href="#den-publika-nyckeln-public-key" title="Permanent link">&para;</a></h2>
<p>Placeras på servern du vill ansluta till (i filen <strong>~/.ssh/authorized_keys</strong>) och används för att verifiera att den privata nyckeln är äkta.</p>
<p>Den är inte hemlig och kan kopieras till hur många servrar som helst.</p>
<h2 id="en-enkel-liknelse">En enkel liknelse<a class="headerlink" href="#en-enkel-liknelse" title="Permanent link">&para;</a></h2>
<p>För att förstå skillnaden kan man tänka på ett hänglås:
  - Den <strong>publika</strong> nyckeln är som ett hänglås<br>
    Du kan ge hänglåset till servern och säga "Sätt detta på dörren".<br>
    Vem som helst kan se låset, men ingen kan öppna det utan rätt nyckel.
  - Den <strong>privata</strong> nyckeln är den faktiska fysiska nyckeln som du har i fickan<br>
    Endast din nyckel kan öppna låset som sitter på servern.</p>
<p>När du försöker logga in skickar servern en "utmaning" till din dator.</p>
<p>Din dator löser utmaningen med din privata nyckel.</p>
<p>Om det matchar serverns publika nyckel (hänglåset), släpps du in.</p>
<h2 id="varfor-anvander-vi-ssh-nycklar">Varför använder vi SSH-nycklar?<a class="headerlink" href="#varfor-anvander-vi-ssh-nycklar" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Högre säkerhet</strong><br>
    En SSH-nyckel är praktiskt taget omöjlig att knäcka med "brute-force" (gissningsattacker), till skillnad från korta lösenord.</li>
<li><strong>Automatisering</strong><br>
    Det möjliggör inloggning utan att en människa behöver sitta och skriva in ett lösenord. Detta är ett krav för att kunna köra automatiska script (t.ex. backup-script eller deploy.sh) mellan dator och server.</li>
<li><strong>Bekvämlighet</strong><br>
    Du slipper komma ihåg komplexa lösenord för varje server.</li>
</ul>
<p><a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<h1 id="en-kort-forklaring-till-argumenten-for-ssh-keygen">En kort förklaring till argumenten för ssh-keygen<a class="headerlink" href="#en-kort-forklaring-till-argumenten-for-ssh-keygen" title="Permanent link">&para;</a></h1>
<p><strong>-t</strong> anger vilken metod (algoritm) som ska användas.<br>
<strong>-b</strong> anger hur svår (storlek) nyckeln ska vara att knäcka.</p>
<h3 id="-t-rsa"><strong>-t rsa</strong><a class="headerlink" href="#-t-rsa" title="Permanent link">&para;</a></h3>
<p>står för "Type" och bestämmer vilken matematisk algoritm som ska användas för att generera nyckelparet./
<strong>RSA</strong> (<em>Rivest–Shamir–Adleman</em>) är den äldsta och mest välkända algoritmen för kryptering./
Den är "universell" och fungerar på precis alla system, även väldigt gamla servrar (vilket är dess största styrka).</p>
<h3 id="-b-4096"><strong>-b 4096</strong><a class="headerlink" href="#-b-4096" title="Permanent link">&para;</a></h3>
<p>står för "Bits" och bestämmer längden på nyckeln.
4096 betyder att nyckeln består av 4096 ettor och nollor.<br>
Ju högre siffra, desto svårare är nyckeln att knäcka med "brute force" (datorer som gissar).<br>
En RSA-nyckel på 2048 bitar anses vara säker idag, men 4096 är "framtidssäkert" och anses vara extremt säkert. Nackdelen är att den är lite långsammare att generera och använda än kortare nycklar, men för SSH märks det knappt.</p>
<h3 id="notera-en-viktig-detalj"><strong>Notera</strong> en viktig detalj<a class="headerlink" href="#notera-en-viktig-detalj" title="Permanent link">&para;</a></h3>
<h3 id="rsa-4096">RSA (4096)<a class="headerlink" href="#rsa-4096" title="Permanent link">&para;</a></h3>
<p>Den "gamla trotjänaren". Fungerar överallt. Nycklarna blir fysiskt väldigt långa textsträngar.<br></p>
<h3 id="ed25519">Ed25519<a class="headerlink" href="#ed25519" title="Permanent link">&para;</a></h3>
<p>Den "nya standarden". Den är säkrare än RSA och mycket snabbare, samtidigt som nyckeln är mycket kortare.</p>
<p>Det verkar just nu som att Strato kräver användning av RSA men det kan ju ändras i framtiden.<br>
Om de ändrar sin strategi så att de accepterar ed25519 så skall du istället använda dig av kommandot
  - <strong>ssh-keygen -t ed25519 -C "MarketData-VPS"</strong></p>
<p><em>Notera att -b inte behövs för ed25519 eftersom den alltid har en fast, säker längd</em>.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>